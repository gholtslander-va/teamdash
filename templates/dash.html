<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://code.jquery.com/jquery-2.2.3.min.js"
            integrity="sha256-a23g1Nt4dtEYOj7bR+vTu7+T8VP13humZFBJNIYoEJo="
            crossorigin="anonymous"></script>
    <!-- Material Design fonts -->
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Roboto:300,400,500,700">
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/icon?family=Material+Icons">
    <!-- Bootstrap -->
    <link rel="stylesheet" type="text/css" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <!-- Bootstrap Material Design -->
    <link rel="stylesheet" type="text/css" href="css/bootstrap-material-design.css">
    <link rel="stylesheet" type="text/css" href="css/ripples.min.css">
    <!-- Font Awesome -->
    <script src="https://use.fontawesome.com/bd79f2ad0c.js"></script>

    <meta charset="UTF-8">
    <title>{{ team_name }} Dashboard</title>
</head>
<body>
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                <span class="navbar-brand">
                    {{ team_name }}
                </span>
            </div>
        </div>
    </nav>
    <div class="container-fluid">
        <div class="col-md-4" id="members-partial">
            <h3>Loading Members...</h3>
        </div>
        <div class="col-md-8" id="prs-partial">
            <h3>Loading Pull Requests...</h3>
        </div>
    </div>


    <script>
        function loadPartials() {
            $("#members-partial").load(window.location.pathname + "/members");
            $("#prs-partial").load(window.location.pathname + "/prs");
        }

        loadPartials();
        setInterval(function() {
            loadPartials()
        }, 60000);
    </script>

    <script>
        (function() {
            var colors = {}, main = {};
            $(".color-group").each(function() {
                var color = $(this).find(".name").text().trim().toLowerCase().replace(" ", "-");
                colors[color] = {};

                $(this).find(".color").not(".main-color").each(function() {
                    var shade = $(this).find(".shade").text().trim(),
                            hex   = $(this).find(".hex").text().trim();

                    colors[color][shade] = hex;
                });
                main[color] = color + "-" + $(this).find(".main-color .shade").text().trim();

            });
            var LESS = "";
            $.each(colors, function(name, shades) {
                LESS += "\n\n";
                $.each(shades, function(shade, hex) {
                    LESS += "@" + name + "-" + shade + ": " + hex + ";\n";
                });
                if (main[name]) {
                    LESS += "@" + name + ": " + main[name] + ";\n";
                }
            });
            console.log(LESS);
        })();
    </script>

</body>
</html>